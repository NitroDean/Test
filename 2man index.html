<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Two-Man - Thai Consonant Drill</title>
    <style>
        :root {
            --primary: #4a90e2;
            --danger: #e74c3c;
            --success: #2ecc71;
            --bg: #f5f7fa;
            --card: #ffffff;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            color: #333;
        }

        .app-container {
            background: var(--card);
            width: 100%;
            max-width: 400px;
            min-height: 600px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            overflow: hidden;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        .header {
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #eee;
        }

        .team-name {
            font-weight: bold;
            color: var(--primary);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .hearts {
            color: var(--danger);
            font-size: 1.2rem;
        }

        /* Screens */
        .screen {
            flex: 1;
            display: none; /* Hidden by default */
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            text-align: center;
        }

        .screen.active {
            display: flex;
        }

        /* Start Screen */
        h1 { margin-bottom: 10px; }
        p { color: #666; margin-bottom: 30px; }

        button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 30px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: transform 0.1s;
            width: 80%;
        }
        button:active { transform: scale(0.98); }

        /* Game Screen */
        .question-card {
            font-size: 8rem;
            margin-bottom: 40px;
            font-weight: bold;
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            width: 100%;
        }

        .option-btn {
            background: white;
            border: 2px solid #eee;
            color: #333;
            padding: 15px;
            border-radius: 12px;
            font-size: 1rem;
        }

        .option-btn:hover { border-color: var(--primary); }

        /* Feedback Overlays */
        .feedback-overlay {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(255,255,255,0.95);
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10;
        }

        .feedback-icon { font-size: 4rem; margin-bottom: 20px; }
        .feedback-char { font-size: 5rem; color: #333; margin: 0; }
        .feedback-text { font-size: 1.5rem; font-weight: bold; margin-bottom: 5px; }
        .feedback-sub { color: #666; margin-bottom: 30px; }
        
        .btn-continue { background: var(--success); }
        .btn-wrong-continue { background: var(--danger); }

        /* Game Over */
        .game-over-score { font-size: 3rem; font-weight: bold; color: var(--primary); }

    </style>
</head>
<body>

<div class="app-container">
    <div class="header">
        <div class="team-name">Two-Man</div>
        <div class="hearts" id="heartsDisplay">❤❤❤</div>
    </div>

    <div id="startScreen" class="screen active">
        <h1>Thai Drill</h1>
        <p>Master the 44 consonants.<br>You have 3 hearts.</p>
        <div style="font-size: 5rem; margin-bottom: 30px;">ก</div>
        <button onclick="startGame()">Start Drill</button>
    </div>

    <div id="gameScreen" class="screen">
        <div class="question-card" id="questionChar">ก</div>
        <div class="options-grid" id="optionsContainer">
            </div>
    </div>

    <div id="gameOverScreen" class="screen">
        <h1>Game Over</h1>
        <p>You ran out of hearts!</p>
        <div class="game-over-score" id="finalScore">0</div>
        <p>Correct Answers</p>
        <button onclick="startGame()">Try Again</button>
    </div>

    <div id="feedbackOverlay" class="feedback-overlay">
        <div class="feedback-icon" id="fbIcon">✅</div>
        <div class="feedback-char" id="fbChar">ก</div>
        <div class="feedback-text" id="fbText">Gor Gai</div>
        <div class="feedback-sub" id="fbSub">(Chicken)</div>
        <button id="fbBtn" onclick="nextQuestion()">Continue</button>
    </div>
</div>

<script>
    // Data: The 44 Thai Consonants
    const consonants = [
        { char: 'ก', name: 'Gor Gai', mean: 'Chicken' },
        { char: 'ข', name: 'Khor Khai', mean: 'Egg' },
        { char: 'ฃ', name: 'Khor Khuad', mean: 'Bottle (Obsolete)' },
        { char: 'ค', name: 'Khor Khwai', mean: 'Buffalo' },
        { char: 'ฅ', name: 'Khor Khon', mean: 'Person (Obsolete)' },
        { char: 'ฆ', name: 'Khor Rakhang', mean: 'Bell' },
        { char: 'ง', name: 'Ngor Ngu', mean: 'Snake' },
        { char: 'จ', name: 'Jor Jan', mean: 'Plate' },
        { char: 'ฉ', name: 'Chor Ching', mean: 'Cymbals' },
        { char: 'ช', name: 'Chor Chang', mean: 'Elephant' },
        { char: 'ซ', name: 'Sor So', mean: 'Chain' },
        { char: 'ฌ', name: 'Chor Cher', mean: 'Tree' },
        { char: 'ญ', name: 'Yor Ying', mean: 'Woman' },
        { char: 'ฎ', name: 'Dor Chada', mean: 'Headdress' },
        { char: 'ฏ', name: 'Tor Patak', mean: 'Goad' },
        { char: 'ฐ', name: 'Thor Than', mean: 'Pedestal' },
        { char: 'ฑ', name: 'Thor Montho', mean: 'Giantess' },
        { char: 'ฒ', name: 'Thor Phuthao', mean: 'Elder' },
        { char: 'ณ', name: 'Nor Nen', mean: 'Novice Monk' },
        { char: 'ด', name: 'Dor Dek', mean: 'Child' },
        { char: 'ต', name: 'Tor Tao', mean: 'Turtle' },
        { char: 'ถ', name: 'Thor Thung', mean: 'Sack' },
        { char: 'ท', name: 'Thor Thahan', mean: 'Soldier' },
        { char: 'ธ', name: 'Thor Thong', mean: 'Flag' },
        { char: 'น', name: 'Nor Nu', mean: 'Mouse' },
        { char: 'บ', name: 'Bor Baimai', mean: 'Leaf' },
        { char: 'ป', name: 'Por Pla', mean: 'Fish' },
        { char: 'ผ', name: 'Phor Phueng', mean: 'Bee' },
        { char: 'ฝ', name: 'For Fa', mean: 'Lid' },
        { char: 'พ', name: 'Phor Phan', mean: 'Tray' },
        { char: 'ฟ', name: 'For Fan', mean: 'Teeth' },
        { char: 'ภ', name: 'Phor Samphao', mean: 'Sailboat' },
        { char: 'ม', name: 'Mor Ma', mean: 'Horse' },
        { char: 'ย', name: 'Yor Yak', mean: 'Giant' },
        { char: 'ร', name: 'Ror Ruea', mean: 'Boat' },
        { char: 'ล', name: 'Lor Ling', mean: 'Monkey' },
        { char: 'ว', name: 'Wor Waen', mean: 'Ring' },
        { char: 'ศ', name: 'Sor Sala', mean: 'Pavilion' },
        { char: 'ษ', name: 'Sor Ruesi', mean: 'Hermit' },
        { char: 'ส', name: 'Sor Suea', mean: 'Tiger' },
        { char: 'ห', name: 'Hor Hip', mean: 'Chest' },
        { char: 'ฬ', name: 'Lor Chula', mean: 'Kite' },
        { char: 'อ', name: 'Or Ang', mean: 'Basin' },
        { char: 'ฮ', name: 'Hor Nokhuk', mean: 'Owl' }
    ];

    // State Variables
    let hearts = 3;
    let score = 0;
    let currentItem = null;

    // DOM Elements
    const heartsDisplay = document.getElementById('heartsDisplay');
    const startScreen = document.getElementById('startScreen');
    const gameScreen = document.getElementById('gameScreen');
    const gameOverScreen = document.getElementById('gameOverScreen');
    const feedbackOverlay = document.getElementById('feedbackOverlay');
    
    const questionChar = document.getElementById('questionChar');
    const optionsContainer = document.getElementById('optionsContainer');

    function startGame() {
        hearts = 3;
        score = 0;
        updateHearts();
        showScreen(gameScreen);
        generateQuestion();
    }

    function showScreen(screen) {
        // Hide all screens
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        feedbackOverlay.style.display = 'none';
        // Show target
        screen.classList.add('active');
    }

    function updateHearts() {
        let h = '';
        for(let i=0; i<hearts; i++) h += '❤';
        heartsDisplay.textContent = h;
    }

    function generateQuestion() {
        // Pick random consonant
        const randomIndex = Math.floor(Math.random() * consonants.length);
        currentItem = consonants[randomIndex];
        
        // Display Character
        questionChar.textContent = currentItem.char;

        // Generate Options (1 correct, 3 wrong)
        let options = [currentItem];
        while (options.length < 4) {
            let randomOpt = consonants[Math.floor(Math.random() * consonants.length)];
            if (!options.includes(randomOpt)) {
                options.push(randomOpt);
            }
        }

        // Shuffle Options
        options.sort(() => Math.random() - 0.5);

        // Render Buttons
        optionsContainer.innerHTML = '';
        options.forEach(opt => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.textContent = `${opt.name}`;
            btn.onclick = () => checkAnswer(opt);
            optionsContainer.appendChild(btn);
        });
    }

    function checkAnswer(selected) {
        const isCorrect = selected.char === currentItem.char;
        
        // Populate Feedback
        document.getElementById('fbChar').textContent = currentItem.char;
        document.getElementById('fbText').textContent = currentItem.name;
        document.getElementById('fbSub').textContent = currentItem.mean;

        const fbBtn = document.getElementById('fbBtn');

        if (isCorrect) {
            score++;
            document.getElementById('fbIcon').textContent = '✅';
            document.getElementById('fbIcon').style.color = 'var(--success)';
            fbBtn.className = 'btn-continue';
            fbBtn.textContent = 'Next Question';
        } else {
            hearts--;
            updateHearts();
            document.getElementById('fbIcon').textContent = '❌';
            document.getElementById('fbIcon').style.color = 'var(--danger)';
            fbBtn.className = 'btn-wrong-continue';
            fbBtn.textContent = hearts > 0 ? 'Continue' : 'See Results';
        }

        feedbackOverlay.style.display = 'flex';
    }

    function nextQuestion() {
        if (hearts <= 0) {
            endGame();
        } else {
            feedbackOverlay.style.display = 'none';
            generateQuestion();
        }
    }

    function endGame() {
        document.getElementById('finalScore').textContent = score;
        showScreen(gameOverScreen);
    }

</script>

</body>
</html>
